<!doctype html>
<head>
	<meta charset="utf-8">
	<script>		
	function setSearchEngine(event){
		event.preventDefault();
		let actions = {
		google: "https://www.google.com/search",
          duckDuckGo: "https://duckduckgo.com/",
          bing: "https://www.bing.com/search",
          ask: "https://www.ask.com/web",
        };
		const searchTerm = document.querySelector('input[name="q"]').value.trim();
		const selectedEngine = document.querySelector('input[name="engine"]:checked');
		const searchForm = document.getElementById("searchForm");
		const errorMsg = document.getElementById("error-message");

		if(!selectedEngine){
			errorMsg.textContent = "Please select a search engine"
			return;
		}
		if(searchTerm === ""){
			errorMsg.textContent = "Please enter a search criteria"
			return;
		}
		errorMsg.textContent = "";

		let actionURL = actions[selectedEngine.value];
		searchForm.setAttribute("action", actionURL);
		searchForm.submit();
	}
		// TODO: create a handler
    window.addEventListener("load", function(){
        // TODO: register the handler
		const searchForm = document.getElementById("searchForm");
		searchForm.addEventListener("submit", setSearchEngine);
    });
	</script>
</head>

<body>

	<form id="searchForm">
    <!-- TODO: add form elements -->
	 <input type="text" name="q">
	 <label>
		<input type="radio" name="engine" value="google">
		Google
	 </label>
	 <label>
		<input type="radio" name="engine" value="duckduckgo">
		DuckDuckGo
	 </label>
	 <label>
		<input type="radio" name="engine" value="bing">
		Bing
	 </label>
	 <label>
		<input type="radio" name="engine" value="ask">
		Ask
	 </label>
	 <button type="submit" value="go">Go</button>
	 <div id="error-message" class="error"></div>
	</form>
	
</body>
